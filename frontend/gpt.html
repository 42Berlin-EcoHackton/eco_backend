<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eco Chat</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <section id="chat-page" class="section">
    <div class="container">
      <h1 class="section-title">Eco Chat Assistant</h1>
      <p>Ask our assistant about ways to reduce your carbon footprint or get eco-friendly advice tailored to your activities!</p>
      
      <div class="chat-box">
        <textarea id="user-query" placeholder="Type your question here..." rows="4"></textarea>
        <button id="send-btn">Ask ChatGPT</button>
      </div>

      <div id="chat-response" class="response-box">
        <h3>ChatGPT Response:</h3>
        <p id="response-content">Your response will appear here...</p>
      </div>
    </div>
  </section>

  <script>
    const sendBtn = document.getElementById('send-btn');
    const userQuery = document.getElementById('user-query');
    const responseContent = document.getElementById('response-content');

    sendBtn.addEventListener('click', async () => {
      const query = userQuery.value.trim();
      if (!query) {
        alert("Please enter a question!");
        return;
      }

      try {
        const response = await fetch('https://api.openai.com/v1/completions', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer API-KEY`, // Replace with your actual API key
          },
          body: JSON.stringify({
            model: "text-davinci-003", // Or whichever GPT model you're using
            prompt: `Act as an eco-friendly advisor: ${query}`,
            max_tokens: 200,
          }),
        });

        const data = await response.json();
        responseContent.textContent = data.choices[0].text || "No response received.";
      } catch (error) {
        console.error("Error with ChatGPT API:", error);
        responseContent.textContent = "Sorry, something went wrong. Please try again.";
      }
    });
  </script>
</body>
</html>
